<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>ION Game Vault</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@900&display=swap" rel="stylesheet">
  <style>
    /* ...your existing styles here (as in your message)... */
    :root {
      --theme-hue: 210;
      --theme-accent: hsl(var(--theme-hue), 100%, 56%);
      --theme-accent-light: hsl(var(--theme-hue), 100%, 72%);
      --theme-accent-dark: hsl(var(--theme-hue), 72%, 36%);
      --theme-bg: #0a0f2c;
    }
    html, body { /* ... */ }
    #vanta-bg { /* ... */ }
    body { /* ... */ }
    #fake-url-bar { /* ... */ }
    .container { /* ... */ }
    h1 { /* ... */ }
    @media (max-width: 600px) { /* ... */ }
    .navbar { /* ... */ }
    .navbar a { /* ... */ }
    .navbar a:hover, .navbar a:focus-visible { /* ... */ }
    .navbar .nav-logo { /* ... */ }
    .status-widget { /* ... */ }
    .status-widget span { /* ... */ }
    #battery-icon svg, #wifi-icon svg { /* ... */ }
    .color-btns { /* ... */ }
    .color-btn { /* ... */ }
    .color-btn.selected, .color-btn:focus-visible { /* ... */ }
    .color-btn[data-hue="210"] { background: hsl(210,100%,56%); }
    .color-btn[data-hue="0"]   { background: hsl(0,100%,56%); }
    .color-btn[data-hue="30"]  { background: hsl(30,100%,56%); }
    .color-btn[data-hue="50"]  { background: hsl(50,100%,56%); }
    .color-btn[data-hue="120"] { background: hsl(120,100%,40%); }
    .color-btn[data-hue="180"] { background: hsl(180,100%,40%); }
    .color-btn[data-hue="270"] { background: hsl(270,100%,60%); }
    .color-btn[data-hue="320"] { background: hsl(320,100%,60%); }
    .color-btn[data-hue="220"] { background: hsl(220,10%,52%); }
    .color-btn::after { /* ... */ }
    .scroll-area { /* ... */ }
    .scroll-area::-webkit-scrollbar { /* ... */ }
    .scroll-area::-webkit-scrollbar-thumb { /* ... */ }
    .scroll-area::-webkit-scrollbar-thumb:hover { /* ... */ }
    .scroll-area::-webkit-scrollbar-corner { /* ... */ }
    .scroll-percent { /* ... */ }
    .game-grid { /* ... */ }
    .game-button { /* ... */ }
    .game-button-canvas { /* ... */ }
    .game-button-content { /* ... */ }
    .game-button::before { /* ... */ }
    .game-button:hover,
    .game-button:focus { /* ... */ }
    .game-button:hover::before,
    .game-button:focus::before { /* ... */ }
    @media (max-width: 600px) { /* ... */ }
    .settings-fab { /* ... */ }
    .settings-fab:hover { /* ... */ }
    .settings-popup { /* ... */ }
    .settings-popup.open { /* ... */ }
    .settings-popup-header { /* ... */ }
    .settings-popup-title { /* ... */ }
    .settings-popup-close { /* ... */ }
    .settings-popup-close:hover { /* ... */ }
    .settings-popup-content { /* ... */ }
    .popup-cloak-group { /* ... */ }
    .premade-cloak-label { /* ... */ }
    .premade-cloak-select { /* ... */ }
    .popup-switch-row { /* ... */ }
    /* ---- Switch styles for toggle switches ---- */
    .switch {
      position: relative;
      display: inline-block;
      width: 50px;
      height: 28px;
      margin-left: 18px;
    }
    .switch input { display: none; }
    .slider {
      position: absolute;
      cursor: pointer;
      top: 0; left: 0; right: 0; bottom: 0;
      background: #2d3959;
      transition: .3s;
      border-radius: 24px;
    }
    .slider:before {
      position: absolute;
      content: "";
      height: 20px; width: 20px;
      left: 4px; bottom: 4px;
      background: var(--theme-accent);
      transition: .3s;
      border-radius: 50%;
    }
    input:checked + .slider {
      background: var(--theme-accent-light);
    }
    input:checked + .slider:before {
      transform: translateX(22px);
      background: var(--theme-accent-dark);
    }
    /* ---- END Switch styles ---- */
    /* (status text for toggles) */
    .status {
      margin-top: 18px;
      text-align: center;
      font-size: 1.03rem;
      color: #90caf9;
      min-height: 1.6em;
      font-weight: 600;
      letter-spacing: 0.04em;
      transition: color 0.2s;
    }
  </style>
</head>
<body>
  <div id="vanta-bg"></div>
  <nav class="navbar" id="navbar">
    <span class="nav-logo" tabindex="0" title="ION Game Vault Home">ION</span>
    <a href="index.html" tabindex="0">Home</a>
    <a href="Games.html" tabindex="0">Games</a>
    <a href="PR0XIES.html" tabindex="0">Proxies</a>
    <a href="AI.html" tabindex="0">AI</a>
    <a href="#" tabindex="0">About</a>
    <a href="#" tabindex="0">Contact</a>
    <a href="Settings.html" tabindex="0">Settings</a>
  </nav>
  <div class="status-widget" id="status-widget">
    <span id="battery-icon" title="Battery"></span>
    <span id="wifi-icon" title="Network"></span>
    <span id="datetime"></span>
    <span class="color-btns" id="color-btns" title="Theme Color">
      <button class="color-btn selected" data-hue="210" aria-label="Default Blue"></button>
      <button class="color-btn" data-hue="0" aria-label="Red"></button>
      <button class="color-btn" data-hue="30" aria-label="Orange"></button>
      <button class="color-btn" data-hue="50" aria-label="Yellow"></button>
      <button class="color-btn" data-hue="120" aria-label="Green"></button>
      <button class="color-btn" data-hue="180" aria-label="Cyan"></button>
      <button class="color-btn" data-hue="270" aria-label="Purple"></button>
      <button class="color-btn" data-hue="320" aria-label="Pink"></button>
      <button class="color-btn" data-hue="220" aria-label="Gray"></button>
    </span>
  </div>
  <div class="container">
    <h1>ION GAME VAULT</h1>
    <div class="scroll-area" id="scroll-area">
      <div class="scroll-percent" id="scroll-percent">0%</div>
      <div class="game-grid">
        <!-- Game Buttons -->
        <a href="games.html/CookieClicker.html" class="game-button"><canvas class="game-button-canvas"></canvas><span class="game-button-content">Cookie Clicker</span></a>
        <!-- ... other game buttons ... -->
      </div>
    </div>
  </div>
  <!-- Fake URL Bar (hidden by default) -->
  <div id="fake-url-bar">
    <img id="fake-url-favicon" src="" alt="" style="width:20px;height:20px;margin-right:10px;vertical-align:middle;"/>
    <span id="fake-url-text"></span>
  </div>
  <!-- Settings FAB and Popup -->
  <button class="settings-fab" id="settings-fab" title="Quick Cloak Settings">
    <svg width="30" height="30" fill="none" viewBox="0 0 24 24"><circle cx="12" cy="12" r="9" stroke="white" stroke-width="2"/><path d="M12 8v4m0 4h.01" stroke="white" stroke-width="2" stroke-linecap="round"/></svg>
  </button>
  <div class="settings-popup" id="settings-popup">
    <div class="settings-popup-header">
      <span class="settings-popup-title">Quick Cloak Settings</span>
      <button class="settings-popup-close" id="settings-popup-close" title="Close">&times;</button>
    </div>
    <div class="settings-popup-content">
      <!-- Quick Settings Toggles (NEW) -->
      <div class="popup-switch-row">
        Enable Sound
        <span class="switch">
          <input type="checkbox" id="toggle-sound">
          <span class="slider"></span>
        </span>
      </div>
      <div class="popup-switch-row">
        Dark Mode
        <span class="switch">
          <input type="checkbox" id="toggle-dark">
          <span class="slider"></span>
        </span>
      </div>
      <div class="popup-switch-row">
        Show Hints
        <span class="switch">
          <input type="checkbox" id="toggle-hints">
          <span class="slider"></span>
        </span>
      </div>
      <div class="status" id="status"></div>
      <!-- END Quick Settings Toggles -->
      <div class="popup-cloak-group">
        <label class="premade-cloak-label" for="popup-premade-cloak">
          Premade Tab Cloak:
          <select id="popup-premade-cloak" class="premade-cloak-select">
            <option value="">Choose...</option>
            <option value="classroom">Google Classroom</option>
            <option value="slides">Google Slides</option>
            <option value="docs">Google Docs</option>
            <option value="sheets">Google Sheets</option>
            <option value="adobe">Adobe</option>
            <option value="googlenewtab">Google New Tab</option>
            <option value="bingnewtab">Bing New Tab</option>
            <option value="kahoot">Kahoot</option>
            <option value="quizzez">Quizzez</option>
            <option value="sora">Sora</option>
            <option value="aboutblank">Fake about:blank</option>
          </select>
        </label>
      </div>
      <div class="popup-switch-row">
        Clickoff Cloaking
        <span class="switch">
          <input type="checkbox" id="popup-cloak-on-blur">
          <span class="slider"></span>
        </span>
      </div>
      <div class="popup-switch-row">
        Confirm Before Exit
        <span class="switch">
          <input type="checkbox" id="popup-beforeunload-toggle">
          <span class="slider"></span>
        </span>
      </div>
      <div class="popup-switch-row">
        Fake URL Bar
        <span class="switch">
          <input type="checkbox" id="popup-fake-url-toggle">
          <span class="slider"></span>
        </span>
      </div>
      <div style="margin-top:7px;display:flex;align-items:center;gap:10px;">
        <select id="fake-url-select" class="premade-cloak-select" style="width:180px;">
          <option value="">Choose...</option>
          <option value="classroom">Google Classroom</option>
          <option value="docs">Google Docs</option>
          <option value="slides">Google Slides</option>
          <option value="sheets">Google Sheets</option>
          <option value="kahoot">Kahoot!</option>
          <option value="custom">Custom...</option>
        </select>
        <input id="fake-url-custom" type="text" placeholder="Custom URL" style="width:140px;font-size:1.05rem;border-radius:6px;border:1.5px solid #385599;background:#232d48;color:#d1e5ff;display:none;" autocomplete="off" />
        <input id="fake-url-custom-favicon" type="text" placeholder="Favicon URL" style="width:120px;font-size:1.05rem;border-radius:6px;border:1.5px solid #385599;background:#232d48;color:#d1e5ff;display:none;" autocomplete="off" />
      </div>
      <div class="popup-switch-row" style="margin-top:10px;">
        Panic Key
        <input id="panic-key-input" type="text" maxlength="1" style="width:36px;text-align:center;font-size:1.1rem;margin-left:7px;border-radius:6px;border:1.5px solid #385599;background:#232d48;color:#d1e5ff;" autocomplete="off" />
        &nbsp;URL:
        <input id="panic-url-input" type="text" placeholder="https://example.com" style="width:140px;font-size:1.05rem;margin-left:7px;border-radius:6px;border:1.5px solid #385599;background:#232d48;color:#d1e5ff;" autocomplete="off" />
      </div>
      <div class="popup-switch-row" style="margin-top:10px;">
        Close Tab On Blur
        <span class="switch">
          <input type="checkbox" id="popup-close-on-blur-toggle">
          <span class="slider"></span>
        </span>
      </div>
      <div style="font-size:0.98rem;color:#98b6ea;margin-top:4px;margin-left:2px;">
        When enabled, the tab will automatically close itself if you switch to another tab or window.<br>
        (Not all browsers allow tabs to be closed by script.)
      </div>
    </div>
  </div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.net.min.js"></script>
  <script>
    // ...your entire original JS, unchanged...
    // (the script from your message, including all settings popup logic)

    // --- Games.html Quick Settings Toggle Logic ---
    (function() {
      // Use a key prefix tied to Games.html for all storage
      const KEY_PREFIX = "Games.html_";
      const toggles = [
        {id: 'toggle-sound', labelOn: "🔊 Sound is enabled.", labelOff: "🔇 Sound is disabled."},
        {id: 'toggle-dark', labelOn: "🌑 Dark mode is on.", labelOff: "🌕 Light mode is on."},
        {id: 'toggle-hints', labelOn: "💡 Hints are enabled.", labelOff: "❌ Hints are hidden."}
      ];
      document.addEventListener('DOMContentLoaded', function() {
        const status = document.getElementById('status');
        toggles.forEach(({id}) => {
          const toggle = document.getElementById(id);
          // Restore setting if present
          const key = KEY_PREFIX + id;
          if (toggle && localStorage.getItem(key) !== null) {
            toggle.checked = localStorage.getItem(key) === "true";
          }
        });
        // Handler
        toggles.forEach(({id, labelOn, labelOff}) => {
          const toggle = document.getElementById(id);
          if (!toggle) return;
          toggle.addEventListener('change', function(e) {
            const checked = e.target.checked;
            localStorage.setItem(KEY_PREFIX + id, checked);
            if (status) {
              status.textContent = checked ? labelOn : labelOff;
              setTimeout(() => { status.textContent = ''; }, 2200);
            }
          });
        });
      });
    })();
  </script>
</body>
</html>
